<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title><%= ENV['ADMIN_SITE_NAME'] || 'ActivateAdmin' %></title> 

    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.0.0/codemirror.min.css" />
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.0.0/theme/monokai.min.css" />
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.0.0/codemirror.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.0.0/mode/xml/xml.min.js"></script>      


    <%
    [
      'bootstrap.min.css',
      'font-awesome.min.css',
      'summernote.css',
      'app.css'
      ].each { |file| %> 
      <link rel="stylesheet" href="<%=ActivateAdmin::App.uri_root%>/stylesheets/<%=file%>" />    
    <% } %>

    <% [
      'jquery-1.11.1.min.js',
      'bootstrap.min.js',
      'summernote.min.js',
      'jquery.deparam.js',
      'jquery.geopicker.js',
      'app.js'
      ].each { |file| %>
      <script src="<%=ActivateAdmin::App.uri_root%>/javascripts/<%=file%>"></script>
    <% } %>

    <script src="<%=ActivateAdmin::App.uri_root%>/webshim/polyfiller.js"></script> 
    <script>
      webshims.polyfill();
    </script>      

    <script src="<%=ActivateAdmin::App.uri_root%>/select2/select2.js"></script>
    <link rel="stylesheet" href="<%=ActivateAdmin::App.uri_root%>/select2/select2.css" />    

    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>      

    <%= partial :summernote %>

  </head>
  <body>

    <%= partial :alert %>

    <div class="container-fluid">

      <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-top-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="<%=url(:home)%>"><%= ENV['ADMIN_SITE_NAME'] || 'ActivateAdmin' %></a>
        </div>

        <% if (current_account and current_account.admin?) %>
          <div class="collapse navbar-collapse navbar-top-collapse">
            <ul class="nav navbar-nav">
              <li class="dropdown">
                <a data-toggle="dropdown" class="dropdown-toggle" href="javascript:;"><i class="fa fa-files-o"></i> Models<b class="caret"></b></a>
                <%= ul_nav 'dropdown-menu', models.sort_by { |model| model.to_s }.map { |model|
                  [human_model_name(model).pluralize, url(:index, :model => model.to_s)]
                  }
              %>
              </li>
              <% if ENV['HEROKU_OAUTH_TOKEN'] %>
                <li>
                  <a href="<%=url(:config)%>"><i class="fa fa-cog"></i> Configuration variables</a>
                </li>
              <% end %>
            </ul>
            <div class="navbar-right">
              <ul class="nav navbar-nav">
                <li><a href="<%=url(:logout)%>">Sign out</a></li>
              </ul>
            </div>
          </div>
        <% end %>

      </nav>    

      <%= yield %>

    </div>

  </body>
</html>

